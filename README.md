# Survey of Graph Neural Network Models On DergiPark Scientific Article Dataset

## Project Structure
This repository provides an implementation of project that compares various graph neural network (GNN)
architectures on common graph machine learning downstream tasks which are node classification, node clustering, and link prediction using scientific article dataset collected from DergiPark which is a service that provides the opportunity to 
publish national academic journals in electronic environment published by TÜBİTAK ULAKBİM. Graph neural network models used
in experiments are given as follows:

Graph Neural Network Models Used:
- Graph Convolutional Network (GCN)
- GraphSAGE
- Graph Attention Network (GAT)
- Variational Graph Autoencoder (VGAE)

Graph Machine Learning Downstream Tasks Used in Experiments:
- Node Classification
- Node Clustering
- Link Prediction

Graph Convolutional Network (GCN), GraphSAGE, and Graph Attention Network (GAT) models are used in node classification and
node clustering tasks. Variational graph autoencoder (VGAE) model is used in link prediction task. 19 different models are 
used in experiments which either differ in model architecture or hyperparameter configurations. Project consists of 7 python
modules which are given as follows:

```bash
\---Project
    |  article_scrapper.py  
    |  GNNs.py  
    |  graph_dataset_generator.py  
    |  node_classification.py
    |  node_clustering.py
    |  link_prediction.py
    |  utils.py
```

`article_scrapper.py` module is responsible for scrapping articles from 5 different categories which are computer science, social sciences, health Sciences, environmental sciences, and sport sciences using beautifulsoup library. After articles are scrapped it creates a pandas dataframe for representing articles with all necessary columns such as title, author, abstract. etc . Finally it generates a csv file from pandas dataframe which represents scientific article dataset to be used in graph
machine learning tasks.

`GNNs.py` module provides implementation of graph neural network models used in experiments. It makes use of Pytorch Geometric (PyG) library for implementation of GCN, GraphSAGE, GAT, and VGAE models.

`graph_dataset_generator.py` module is responsible for generation of graph dataset. It takes tabular dataset generated 
by article_scrapper.py module and converts it into graph representation. Nodes (articles) are connected to each other 
according to abstract embedding similarities where embeddings are generated by sentence encoder model named SPECTER[^1].

[^1]: [Link to SPECTER paper](https://arxiv.org/abs/2004.07180)

`node_classification.py` module provides implementation of training procedure for node classification task.

`node_clustering.py` module provides implementation of training procedure for node clustering task.

`link_prediction.py` module provides implementation of training procedure for link prediction task.

`utils.py` module provides utility methods for training, validating, testing GNN models; generating plots for graph 
structure and evaluation metrics used for node classification, node clustering, and link prediction tasks. 

## Plots
Graph related plots are given under the `Graph_plots` folder

Plots for each downstream task can be found under the folders given as follows:
- Node Classification plots ==> `Node_classification_plots`
- Node Clustering plots ==> `Node_clustering_plots`
- Link Prediction plots ==> `Link_prediction_plots`

## Using Project for Experiments
Steps that have to be followed for reproducing results are given as follows:

1. Run `article_scrapper.py` module to create dataset
2. According to type of experiment (node classification, node clustering, or link prediction) assign `gnn_model_name` variable to desired GNN name in one of the `node_classification.py`, `node_clustering.py`, or `link_prediction.py` modules  
3. Assign `epochs` variable to desired number of epochs
4. Assign `gnn_model` variable to desired GNN model available in `GNNs.py` with any valid configuration
5. Run corresponding module (`node_classification.py`, `node_clustering.py`, or `link_prediction.py`)
6. Plots are generated under the folders specified in the plots section above according to task type

## Dependencies
It is suggested to create a virtual environment for project which is named `myenv` in project provided in this repository under the Project folder and Install all required dependencies to this virtual environment with pip tool.
Following dependencies are required to be able to run all tasks in project:

- BeautifulSoup Module
- pandas Module
- requests Module
- string Module
- networkx Module
- torch Module
- torch.geometric Module
- SentenceTransformer Module
- sklearn Module
- numpy Module
- matplotlib.pyplot Module
- collections Module
- torcheval.metrics.functional Module
- torch_geometric Module
  
NOTE: when any of the `node_classification.py`, `node_clustering.py`, or `link_prediction.py` modules are run, by default
they run for 80 iterations for each GNN configuration to average experimental results, so 80 plots are generated for each
evaluation metric. For simplicity and in terms of keeping project size reasonable only 80th iteration's plots are provided
in corresponding plot folders.

More information regarding conducted experiments and followed methodology can be found in paper[^2].
[^2]: [Link to `Survey of Graph Neural Network Models on DergiPark Scientific Article Dataset` paper](CENG532_Group_12_Project_Report.pdf).
